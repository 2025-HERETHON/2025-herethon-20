<!DOCTYPE html>
<html lang="ko">
<body>
<header class="header">
        <a href="{% url 'users:user_home' %}" class="back-button">&lt;</a> {# 뒤로가기 버튼, 홈으로 이동 #}
        <div class="title">알림</div>
        {# 모두 읽음 처리 기능 JavaScript로 구현해야 함 #}
        <div class="mark-all-read">모두 읽음 처리</div>
    </header>

    <ul class="notification-list">
        {% for notification in notifications %}
        <li class="notification-item {% if not notification.is_read %}unread{% endif %}">
            <a href="{% url 'posts:post_detail' notification.post.id %}">
                <div class="content-wrapper">
                    <span class="post-title">"{{ notification.post.title|truncatechars:15 }}"</span>
                    <span class="message">{{ notification.message }}</span>
                </div>
                <span class="time-ago">{{ notification.created_at|timesince }} 전</span>
                {% if notification.comment_content %}
                <div class="comment-preview">
                    "{{ notification.comment_content|truncatechars:30 }}" {# 댓글 내용 한줄 표시 #}
                </div>
                {% endif %}
            </a>
        </li>
        {% empty %}
        <li class="notification-item no-notifications">
            <p>새로운 알림이 없습니다.</p>
        </li>
        {% endfor %}
    </ul>

    {# 알림 클릭 시 is_read 업데이트하는 JavaScript 추가해야 함 #}
</body>
</html>